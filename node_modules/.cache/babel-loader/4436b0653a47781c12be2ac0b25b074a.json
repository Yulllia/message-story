{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nexport const useHttp = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const request = useCallback(async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n    let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    };\n    setLoading(true);\n\n    try {\n      const response = await fetch(url, {\n        method,\n        body,\n        headers\n      });\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || \"Щось пішло нетак\");\n      }\n\n      setLoading(false);\n      return data;\n    } catch (e) {\n      setLoading(false);\n      setError(e.message);\n      toast.error(e.message);\n    }\n  }, []);\n\n  const clearError = () => setError(null);\n\n  return {\n    loading,\n    request,\n    error,\n    clearError,\n    data\n  };\n};\n\n_s(useHttp, \"6wcr/Opv4RV/QG/N24MbGaKmMiI=\");","map":{"version":3,"names":["useState","useCallback","toast","useHttp","loading","setLoading","error","setError","data","setData","request","url","method","body","headers","response","fetch","json","ok","Error","message","e","clearError"],"sources":["C:/Users/slipw/OneDrive/Документи/Project-Yulia/messanger-react/client/src/hooks/UseHttpHook.js"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState(null);\r\n\r\n  const request = useCallback(\r\n    async (\r\n      url,\r\n      method = \"GET\",\r\n      body = null,\r\n      headers = {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n    \r\n    ) => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await fetch(url, { method, body, headers });\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(data.message || \"Щось пішло нетак\");\r\n        }\r\n        setLoading(false);\r\n        return data;\r\n      } catch (e) {\r\n        setLoading(false);\r\n        setError(e.message);\r\n        toast.error(e.message);\r\n      }\r\n    },\r\n    []\r\n  );\r\n  const clearError = () => setError(null);\r\n  return { loading, request, error, clearError, data};\r\n};\r\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;;EAC3B,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,IAAD,CAAhC;EAEA,MAAMU,OAAO,GAAGT,WAAW,CACzB,gBACEU,GADF,EASK;IAAA,IAPHC,MAOG,uEAPM,KAON;IAAA,IANHC,IAMG,uEANI,IAMJ;IAAA,IALHC,OAKG,uEALO;MACR,UAAU,kBADF;MAER,gBAAgB;IAFR,CAKP;IACHT,UAAU,CAAC,IAAD,CAAV;;IACA,IAAI;MACF,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAM;QAAEC,MAAF;QAAUC,IAAV;QAAgBC;MAAhB,CAAN,CAA5B;MACA,MAAMN,IAAI,GAAG,MAAMO,QAAQ,CAACE,IAAT,EAAnB;;MACA,IAAI,CAACF,QAAQ,CAACG,EAAd,EAAkB;QAChB,MAAM,IAAIC,KAAJ,CAAUX,IAAI,CAACY,OAAL,IAAgB,kBAA1B,CAAN;MACD;;MACDf,UAAU,CAAC,KAAD,CAAV;MACA,OAAOG,IAAP;IACD,CARD,CAQE,OAAOa,CAAP,EAAU;MACVhB,UAAU,CAAC,KAAD,CAAV;MACAE,QAAQ,CAACc,CAAC,CAACD,OAAH,CAAR;MACAlB,KAAK,CAACI,KAAN,CAAYe,CAAC,CAACD,OAAd;IACD;EACF,CAzBwB,EA0BzB,EA1ByB,CAA3B;;EA4BA,MAAME,UAAU,GAAG,MAAMf,QAAQ,CAAC,IAAD,CAAjC;;EACA,OAAO;IAAEH,OAAF;IAAWM,OAAX;IAAoBJ,KAApB;IAA2BgB,UAA3B;IAAuCd;EAAvC,CAAP;AACD,CAnCM;;GAAML,O"},"metadata":{},"sourceType":"module"}